<div id="wrapper" style="background: #fff;">
    <div class="page-shopping">
        <div class="header" style="margin-top: 9px;padding-bottom: 10px">
            <div class="left">
                <a ui-sref="home" class="home">
                    <span class="icon-home"></span>
                </a>
            </div>
            <div class="tit" style="height: auto;">
                <h2>
					<span class="title" style="font-size: 2.3em;">购物车</span>
				</h2>
            </div>
            <div class="right">
                <ul>
                    <li class="cart">
                        <a ui-sref="user" title="购物车">
                            <span style="font-size: 2.5em;color: #464646" class="icon icon-gerenzhongxin"></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="cart-index-wrap" ng-show='true'>
            <ul>
                <li class="item clearfix" ng-repeat="(key, value) in shops">
                    <div class="ui-box">
                        <div class="choose" ng-click="changeSelect(key)" ng-class="{true: 'status-1', false: 'status-0'}[value.selected]"></div>
                        <!-- <div class="imgProduct">
                            <a><img src="{{value.imgSrc}}"></a>
                        </div> -->
                        <div class="info ui-box-flex">
                            <div class="name clearfix">
                                <a class="pull-left" ng-bind="value.shopName"></a>
                                <a class="pull-right" ng-bind="value.maker"></a>
                            </div>
                            <div class="price">                                
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>价格</th>
                                                <th>价格梯度</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="(i, v) in value.prices" class="{{v.selected ? 'on':''}}">
                                                <td>
                                                    <p ng-bind="v.changePrice"></p>
                                                </td>
                                                <td>
                                                    <p ng-bind="v.amount + '+'"></p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="num">
                                <div class="xm-input-number">
                                    <div class="input-sub" ng-click="subNum(key)"></div>
                                    <div class="input-num">
                                        <input type="text" ng-change="changeNum(key)" ng-pattern='/\d*/' ng-model='value.num'>
                                        <!-- <span ng-bind="value.num"></span> -->
                                    </div>
                                    <div class="input-add" ng-click="addNum(key)"></div>
                                </div>
                                <div class="allPrice pull-left" style="padding:0.1rem 0 0 0.5rem;">
                                    <span>合计：</span>
                                    ￥<span ng-bind="value.singlePrice"></span>
                                </div>
                                <div class="delete" ng-click="deleteShop(key)">
                                	<a href="javascript:;">
                                		<i class="fa fa-trash" aria-hidden="true"></i>
                                	</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="bottom-submit">
	            <div class="price">
	            	<span>共{{totalNum}}件 金额：</span>
	                <br><strong ng-bind="totalPrice.toFixed(2)"></strong>
	                <span>元</span>
	            </div>
	            <div class="btn">
	            	<a ui-sref="searchByName">继续购物</a>
	            </div>
	            <div class="btn">
	            	<a ng-touch='checkOrder()'>去结算</a>
	            </div>
	        </div>
        </div>
   
        <div class="shopping-empty" ng-show='false'>
            <div class="tips_msg">
                <h3>购物车还是空的</h3>
                <p>现在就去选购吧</p>
            </div>
            <div class="tips_btn">
                <a ui-sref="searchByName" class="xm-button xm-button-gray"><span>去逛逛</span></a>
            </div>
        </div>
    </div>
</div>
